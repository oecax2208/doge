(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63323],{42963:function(e,t,i){"use strict";i.r(t);var s=i(11163),a=(i(67294),i(80156)),n=i(85893);t.default=()=>{const e=(0,s.useRouter)(),{slug:t,compId:i}=e.query;return t&&i?(0,n.jsx)(a.default,{compId:i}):null}},80156:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var s,a,n,l,o,r,c,d,p,u,h=i(65988),m=i(67294),w=i(11163),y=i(45123),b=i(73202),f=i(92809),_=i(33800),x=i(9626),g=i(30773),j=(i(39258),i(49899)),N=i(94027),I=i(45626),v=i(76883),T=i(65989),k=i(89361),S=i(92763),U=i(91510),C=i(80427),P=i(20510),F=i(85893);let Z=(s=(0,v.f3)("projectUIState"),a=(0,v.f3)("projectInitFlow"),n=(0,v.f3)("collaboratorManagementFlow"),l=(0,v.f3)("webComponentsFlow"),u=new WeakMap,o=class extends m.Component{constructor(...e){super(...e),(0,b.Z)(this,"projectUIState",r,this),(0,b.Z)(this,"initFlow",c,this),(0,b.Z)(this,"collaboratorManagementFlow",d,this),(0,b.Z)(this,"webComponentsFlow",p,this),u.set(this,{writable:!0,value:null}),(0,f.Z)(this,"state",{ready:!1,width:this.projectUIState.mediaQueryBreakpoints.defaultBreakpoint,showCollabPanel:!1,userAccessType:null}),(0,f.Z)(this,"updateWidth",(e=>{this.setState({width:e[0].contentRect.width})})),(0,f.Z)(this,"setup",(()=>{(0,x.Z)(this,u,new ResizeObserver(this.updateWidth)),window.requestAnimationFrame((()=>(0,_.Z)(this,u).observe(document.body)))})),(0,f.Z)(this,"handleCollabList",(()=>{this.setState({showCollabPanel:!this.state.showCollabPanel})})),(0,f.Z)(this,"handleBackClick",(()=>{w.default.push(P.Ql)}))}async componentDidMount(){await this.initFlow.begin({url:w.default.asPath,query:{slug:this.props.slug,compId:this.props.compId},pathName:w.default.pathname,inPreviewMode:!0}),await this.webComponentsFlow.registerPreviewComponents(),this.setState({userAccessType:this.collaboratorManagementFlow.getLoggedInUserAccessType()}),this.updateSelectedComponent(),this.setup()}async componentDidUpdate(e){e.compId!==this.props.compId&&(this.setState({ready:!1}),await this.initFlow.update({url:w.default.asPath,query:{slug:this.props.slug,compId:this.props.compId},pathName:w.default.pathname}),this.updateSelectedComponent())}updateSelectedComponent(){this.props.compId&&(0,j.JG)(this.projectUIState,(e=>{e.selection.componentId=this.props.compId})),this.setState({ready:!0})}componentWillUnmount(){var e;null===(e=(0,_.Z)(this,u))||void 0===e||e.disconnect()}render(){return this.state.ready&&this.state.userAccessType?this.state.ready?(0,F.jsxs)(F.Fragment,{children:[screen&&screen.width<767&&(0,F.jsxs)("div",{className:h.default.dynamic([["997486324",[T.Pt.DARK_01,T.N_.UNIT,T.N_.TWO_UNITS]]])+" preview-header",children:[(0,F.jsxs)(k.z,{style:"outline",size:"medium",onClick:this.handleBackClick,children:[(0,F.jsx)(S.J,{type:"arrow-left",size:12})," ",(0,F.jsx)("span",{className:h.default.dynamic([["997486324",[T.Pt.DARK_01,T.N_.UNIT,T.N_.TWO_UNITS]]]),children:"Dashboard"})]}),(0,F.jsxs)("div",{"data-tooltip-name":"On mobile devices you can only preview your projects","data-tooltip-direction":"vertical",className:h.default.dynamic([["997486324",[T.Pt.DARK_01,T.N_.UNIT,T.N_.TWO_UNITS]]])+" preview-info",children:[(0,F.jsx)(S.J,{type:"info",size:12})," ",(0,F.jsx)("span",{className:h.default.dynamic([["997486324",[T.Pt.DARK_01,T.N_.UNIT,T.N_.TWO_UNITS]]]),children:"Preview"})]}),(0,F.jsx)(C.S,{buttonTitle:"Invite",children:(0,F.jsx)(U.e,{userAccessType:this.state.userAccessType})})]}),(0,F.jsx)(I.O,{width:this.state.width,renderingMode:"preview"}),(0,F.jsx)(h.default,{id:"997486324",dynamic:[T.Pt.DARK_01,T.N_.UNIT,T.N_.TWO_UNITS],children:[".text-button.__jsx-style-dynamic-selector{margin-right:0px !important;}",`.preview-header.__jsx-style-dynamic-selector{height:50px;background-color:${T.Pt.DARK_01};padding:${T.N_.UNIT} ${T.N_.TWO_UNITS};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}`,".invite-collab-wrapper.__jsx-style-dynamic-selector{position:relative;}",".preview-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".preview-info.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{margin-left:5px;}"]})]}):void 0:(0,F.jsx)(N.P,{})}},r=(0,g.Z)(o.prototype,"projectUIState",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=(0,g.Z)(o.prototype,"initFlow",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,g.Z)(o.prototype,"collaboratorManagementFlow",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,g.Z)(o.prototype,"webComponentsFlow",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);var A=i(12515),O=i(83114),R=i(62070);var D=({compId:e})=>{const t=(0,w.useRouter)(),{slug:i}=t.query;return i?(0,F.jsx)(y.F,{middlewares:[O.H],data:i,children:(0,F.jsxs)(A._,{title:`Preview | ${i}`,colorTheme:R.M.DARK_THEME,children:[(0,F.jsx)(Z,{slug:i,compId:e}),(0,F.jsx)(h.default,{id:"1415060136",children:["body{background:#fff;}","#crisp-chatbox{display:none !important;}"]})]})}):null}},42199:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[slug]/preview/[compId]",function(){return i(42963)}])}},function(e){e.O(0,[53662,32440,27709,31507,55733,2567,48764,58122,58002,72378,19604,41334,10355,72438,76105,90736,68679,34017,67076,30541,49774,92888,40179],(function(){return t=42199,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
